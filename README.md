# LightScript
Examples:
- [Basic physics loop](https://liesclient.github.io/LightScript/?code=initializeCanvas()%3C-n-%3EsetCanvasFillColor(%22white%22)%3C-n-%3E%3C-n-%3Elet%20width%20=%20getCanvasWidth()%3C-n-%3Elet%20height%20=%20getCanvasHeight()%3C-n-%3E%3C-n-%3Estruct%20Vector%20{%3C-n-%3E%3C-t-%3Ex:%20Number%3C-n-%3E%3C-t-%3Ey:%20Number%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20vec()%20{%20%3C-n-%3E%3C-t-%3Ereturn%20Vector(0,%200)%20%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20sub(v,%20w)%20{%3C-n-%3E%3C-t-%3Ereturn%20Vector(v.x%20-%20w.x,%20v.y%20-%20w.y)%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20add(v,%20w)%20{%3C-n-%3E%3C-t-%3Ereturn%20Vector(v.x%20%3C-p-%3E%20w.x,%20v.y%20%3C-p-%3E%20w.y)%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20scale(v,%20s)%20{%3C-n-%3E%3C-t-%3Ereturn%20Vector(v.x%20*%20s,%20v.y%20*%20s)%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20mag(v)%20{%3C-n-%3E%3C-t-%3Ereturn%20sqrt(v.x%20*%20v.x%20%3C-p-%3E%20v.y%20*%20v.y)%3C-n-%3E}%3C-n-%3E%3C-n-%3Estruct%20Ball%20{%3C-n-%3E%3C-t-%3Epos:%20Vector%3C-n-%3E%3C-t-%3Elpos:%20Vector%3C-n-%3E%3C-t-%3Eacc:%20Vector%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20createBall(x,%20y)%20{%3C-n-%3E%3C-t-%3Ereturn%20Ball(Vector(x,%20y),%20Vector(x,%20y),%20vec())%3C-n-%3E}%3C-n-%3E%3C-n-%3Elet%20ballRadius%20=%205%3C-n-%3Elet%20ballCount%20=%2020%3C-n-%3Elet%20balls%20=%20[]%3C-n-%3E%3C-n-%3Elet%20i%20=%200%3C-n-%3Ewhile%20(i%20%3C%20ballCount%20)%20{%3C-n-%3E%3C-t-%3EaddElement(balls,%20createBall(rand()%20*%20width,%20rand()%20*%20height))%3C-n-%3E%3C-t-%3Ei%20=%20i%20%3C-p-%3E%201%3C-n-%3E}%3C-n-%3E%3C-n-%3Elet%20lastTime%20=%200%3C-n-%3E%3C-n-%3Efn%20loop()%20{%3C-n-%3E%3C-t-%3Eclear()%3C-n-%3E%3C-t-%3EclearCanvas()%3C-n-%3E%3C-n-%3E%3C-t-%3Elet%20t%20=%20time()%3C-n-%3E%3C-t-%3Elet%20dt%20=%20t%20-%20lastTime%3C-n-%3E%3C-t-%3ElastTime%20=%20t%3C-n-%3E%3C-n-%3E%3C-t-%3Eif%20(dt%20==%200)%20{%3C-n-%3E%3C-t-%3E%3C-t-%3Edt%20=%201%3C-n-%3E%3C-t-%3E}%3C-n-%3E%3C-n-%3E%3C-t-%3Elet%20dtInSec%20=%20dt%20/%201000%3C-n-%3E%3C-t-%3Elet%20fps%20=%201000%20/%20dt%3C-n-%3E%3C-n-%3E%3C-t-%3Eprint(%22FPS:%20%22%20%3C-p-%3E%20fps)%3C-n-%3E%3C-t-%3Eprint(%22FrameTime:%20%22%20%3C-p-%3E%20dt%20%3C-p-%3E%20%22ms%22)%3C-n-%3E%3C-t-%3E%3C-n-%3E%3C-t-%3Elet%20i%20=%200%3C-n-%3E%3C-t-%3E%3C-n-%3E%3C-t-%3Ewhile%20(i%20%3C%20ballCount)%20{%3C-n-%3E%3C-t-%3E%3C-t-%3Elet%20pos%20=%20balls[i].pos%3C-n-%3E%3C-t-%3E%3C-t-%3EapplyGravity(i)%3C-n-%3E%3C-t-%3E%3C-t-%3EupdateBall(i,%20dtInSec)%3C-n-%3E%3C-t-%3E%3C-t-%3EdrawCircle(pos.x,%20pos.y,%20ballRadius)%3C-n-%3E%3C-t-%3E%3C-t-%3Ei%20=%20i%20%3C-p-%3E%201%3C-n-%3E%3C-t-%3E}%3C-n-%3E%3C-n-%3E%3C-t-%3E%3C-n-%3E%3C-t-%3EnextFrame(loop)%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20applyGravity(index)%20{%3C-n-%3E%3C-t-%3Elet%20ball%20=%20balls[index]%3C-n-%3E%3C-t-%3Elet%20mid%20=%20Vector(width%20/%202,%20height%20/%202)%3C-n-%3E%3C-t-%3Elet%20dir%20=%20sub(mid,%20ball.pos)%3C-n-%3E%3C-t-%3Elet%20dis%20=%20mag(dir)%3C-n-%3E%3C-t-%3E%3C-n-%3E%3C-t-%3Eif%20(dis%20==%200)%20{%3C-n-%3E%3C-t-%3E%3C-t-%3Ereturn%3C-n-%3E%3C-t-%3E}%3C-n-%3E%3C-n-%3E%3C-t-%3Edir.x%20=%20dir.x%20/%20dis%3C-n-%3E%3C-t-%3Edir.y%20=%20dir.y%20/%20dis%3C-n-%3E%3C-n-%3E%3C-t-%3Eball.acc%20=%20add(ball.acc,%20scale(dir,%200.2))%3C-n-%3E}%3C-n-%3E%3C-n-%3Efn%20updateBall(index,%20dt)%20{%3C-n-%3E%3C-t-%3Elet%20ball%20=%20balls[index];%3C-n-%3E%3C-t-%3Elet%20vel%20=%20sub(ball.pos,%20ball.lpos)%3C-n-%3E%3C-t-%3Eball.lpos%20=%20ball.pos%3C-n-%3E%3C-n-%3E%3C-t-%3Eball.pos%20=%20add(%3C-n-%3E%3C-t-%3E%3C-t-%3Eball.pos,%3C-n-%3E%3C-t-%3E%3C-t-%3Escale(add(vel,%20scale(ball.acc,%201)),%201)%3C-n-%3E%3C-t-%3E)%3C-n-%3E%3C-n-%3E%3C-t-%3Eball.acc%20=%20vec()%3C-n-%3E}%3C-n-%3E%3C-n-%3Eloop())
